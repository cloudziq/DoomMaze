[gd_scene load_steps=21 format=2]

[ext_resource path="res://assets/materials/blood1.material" type="Material" id=1]
[ext_resource path="res://assets/models/gib2/mesh.obj" type="ArrayMesh" id=2]
[ext_resource path="res://assets/models/gib1/diff.png" type="Texture" id=3]
[ext_resource path="res://assets/models/gib1/norm.png" type="Texture" id=4]
[ext_resource path="res://assets/models/gib2/diff.png" type="Texture" id=5]
[ext_resource path="res://assets/models/gib2/norm.png" type="Texture" id=6]
[ext_resource path="res://assets/models/gib1/mesh.obj" type="ArrayMesh" id=7]
[ext_resource path="res://scripts/Gibs.gd" type="Script" id=8]
[ext_resource path="res://assets/materials/blood2.material" type="Material" id=9]
[ext_resource path="res://assets/level_textures/asphalt_old.png" type="Texture" id=10]
[ext_resource path="res://assets/level_textures/asphalt_old_n.png" type="Texture" id=11]

[sub_resource type="PhysicsMaterial" id=6]
bounce = 0.07

[sub_resource type="SpatialMaterial" id=1]
albedo_texture = ExtResource( 3 )
normal_enabled = true
normal_scale = 2.0
normal_texture = ExtResource( 4 )

[sub_resource type="ConvexPolygonShape" id=2]
points = PoolVector3Array( 0.0875465, 0.440256, -1.16263, 0.542333, 0.917534, -0.546182, 0.911604, 0.18255, -0.828375, 0.424209, -0.148614, -1.16097, -0.546693, 0.00372159, -1.07338, -0.383868, 0.968714, -0.783133, 0.121882, 0.817181, 0.54933, 0.88353, 0.400918, 0.239248, 0.934062, 0.497056, -0.282788, -0.60068, 0.952858, 0.237595, 1.12647, -0.349119, -0.588945, 0.159025, -0.811143, -1.02855, -0.739318, -0.52855, -0.595349, -0.959369, 0.000108838, -0.677776, -0.723338, 0.786875, -0.616627, 0.804925, 0.0388451, 0.627418, -0.595281, 0.395298, 0.797849, -0.184116, 0.239952, 0.947829, 1.03448, -0.194375, 0.086996, -1.02588, 0.456714, 0.222928, 0.535638, -0.875971, 0.160746, 0.401535, -0.979936, -0.520979, -0.43915, -0.976926, -0.320386, -0.763504, -0.805925, 0.0376226, -1.07965, -0.351327, 0.116537, 0.157082, -0.569092, 0.901968, -0.463553, -0.457901, 0.839373, 0.0754534, -1.08169, 0.344399 )

[sub_resource type="SpatialMaterial" id=3]
albedo_texture = ExtResource( 5 )
normal_enabled = true
normal_scale = 1.0
normal_texture = ExtResource( 6 )

[sub_resource type="ConvexPolygonShape" id=4]
points = PoolVector3Array( 0.253965, 0.0239673, 0.0215363, 0.226858, 0.0461448, 0.129134, 0.185518, -0.0346448, 0.300775, 0.24527, -0.0230867, 0.00437215, 0.246776, 0.00818484, -0.101864, 0.235797, 0.0457048, -0.173167, 0.211896, 0.129721, -0.156154, 0.169244, 0.0511905, 0.278998, 0.103614, 0.0611938, 0.334196, -0.00627171, 0.0234979, 0.424629, -0.0248289, -0.0513953, 0.392645, 0.0574638, -0.116842, 0.269093, 0.109978, -0.102791, 0.221003, 0.167835, -0.0946649, 0.0101188, 0.15982, -0.0848376, -0.107762, 0.231619, -0.00727491, -0.123565, 0.234534, 0.0114117, -0.167269, 0.191202, 0.0350854, -0.292787, 0.175511, 0.098479, -0.287343, 0.12256, 0.114467, -0.242202, 0.136647, 0.127081, -0.180653, 0.105897, 0.136439, -0.0506741, 0.0146658, 0.0782963, 0.371322, -0.0467865, 0.0734853, 0.417824, -0.144964, 0.0292476, 0.406709, -0.163473, -0.0456455, 0.374724, -0.192718, -0.100972, 0.32603, -0.115769, -0.119131, 0.296087, -0.095414, -0.163251, 0.0916295, 0.00631022, -0.142306, 0.0523864, 0.117556, -0.108365, 0.0995689, 0.0624188, -0.0637748, -0.261407, 0.123531, -0.0642442, -0.199027, 0.179688, -0.0162222, -0.222467, -0.014433, -0.0391624, -0.315395, 0.0389552, 0.0487556, -0.347833, 0.0684912, 0.0858062, -0.334449, 0.121054, -0.0399838, -0.241975, 0.0433274, 0.118104, -0.236153, 0.00456139, 0.122153, -0.170596, -0.132431, 0.0921426, -0.042281, -0.062186, 0.083782, 0.263347, -0.140738, 0.050017, 0.384176, -0.124561, 0.0727226, 0.233782, -0.242268, -0.0513953, 0.222062, -0.190872, -0.0176303, 0.328903, -0.240471, -0.113762, 0.213366, -0.203113, -0.12799, 0.143802, -0.120724, -0.125115, -0.0768362, -0.0762253, -0.115405, -0.103679, -0.0435803, -0.117459, -0.0846999, -0.0754481, -0.0503099, -0.288023, -0.0876414, -0.0831655, -0.200463, -0.159247, 0.0635407, -0.277967, -0.212732, 0.0657408, -0.239404, -0.205008, -0.0989479, 0.0345417, -0.182759, -0.076125, -0.0582354, -0.131654, -0.0400132, -0.231465 )

[sub_resource type="CubeMesh" id=7]
size = Vector3( 2, 2, 0.4 )

[sub_resource type="BoxShape" id=12]
extents = Vector3( 1, 1, 0.2 )

[sub_resource type="CubeMesh" id=10]
size = Vector3( 100, 2, 100 )

[sub_resource type="SpatialMaterial" id=11]
albedo_texture = ExtResource( 10 )
normal_enabled = true
normal_scale = 4.0
normal_texture = ExtResource( 11 )
uv1_scale = Vector3( 16, 16, 16 )

[node name="Spatial" type="Spatial" groups=["gibs"]]
script = ExtResource( 8 )

[node name="Gib1" type="RigidBody" parent="."]
collision_mask = 5
physics_material_override = SubResource( 6 )

[node name="mesh" type="MeshInstance" parent="Gib1"]
transform = Transform( -1.92399e-08, 0, -0.621227, 0, 0.36694, 0, 0.440158, 0, -2.71547e-08, -0.114633, 0, 0 )
mesh = ExtResource( 7 )
material/0 = SubResource( 1 )

[node name="CollisionShape" type="CollisionShape" parent="Gib1"]
transform = Transform( -1.92399e-08, 0, -0.621227, 0, 0.36694, 0, 0.440158, 0, -2.71547e-08, -0.114633, 0, 0 )
shape = SubResource( 2 )

[node name="Gib2" type="RigidBody" parent="."]
collision_mask = 5
physics_material_override = SubResource( 6 )

[node name="mesh" type="MeshInstance" parent="Gib2"]
transform = Transform( -5.07263e-08, 0, -1.39607, 0, 1.09766, 0, 1.16048, 0, -6.10244e-08, 0, 0, 0 )
mesh = ExtResource( 2 )
material/0 = SubResource( 3 )

[node name="CollisionShape" type="CollisionShape" parent="Gib2"]
transform = Transform( -5.07263e-08, 0, -1.39607, 0, 1.09766, 0, 1.16048, 0, -6.10244e-08, 0, 0, 0 )
shape = SubResource( 4 )

[node name="Blood1" type="KinematicBody" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.605283, 0 )
collision_layer = 0
collision_mask = 4

[node name="decal" type="MeshInstance" parent="Blood1"]
transform = Transform( 1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, -0.64772, 0 )
cast_shadow = 0
mesh = SubResource( 7 )
skeleton = NodePath("../..")
material/0 = ExtResource( 1 )

[node name="CollisionShape" type="CollisionShape" parent="Blood1"]
transform = Transform( 1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 0.166808, 0 )
shape = SubResource( 12 )

[node name="Blood2" type="KinematicBody" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.605283, 0 )
collision_layer = 0
collision_mask = 4

[node name="decal" type="MeshInstance" parent="Blood2"]
transform = Transform( 1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, -0.652178, 0 )
cast_shadow = 0
mesh = SubResource( 7 )
skeleton = NodePath("../..")
material/0 = ExtResource( 9 )

[node name="CollisionShape" type="CollisionShape" parent="Blood2"]
transform = Transform( 1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 0.166808, 0 )
shape = SubResource( 12 )

[node name="ground" type="MeshInstance" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -2, 0 )
visible = false
mesh = SubResource( 10 )
material/0 = SubResource( 11 )

[node name="DirectionalLight" type="DirectionalLight" parent="."]
transform = Transform( 0.27228, 0.962218, 2.85206e-08, -0.31422, 0.0889153, 0.945177, 0.909466, -0.257353, 0.326558, 0, 7.01764, 0 )
editor_only = true
